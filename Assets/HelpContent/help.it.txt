## 1) Cos’è e a cosa serve
DevProjex prepara rapidamente il contesto del progetto: mostra la struttura di cartelle/file, permette di selezionare gli elementi e copiare l’albero e/o il contenuto dei file negli appunti. Utile per code review, supporto, formazione e condivisione della struttura con un assistente AI.

Importante: l’app è solo in lettura e non modifica i file.

## 2) Albero del progetto
* Icone per tipo file/cartella.
* Checkbox sui nodi.
* Espandi/riduci.

Checkbox: la selezione di un nodo si applica ai figli; lo stato dei genitori è ricalcolato automaticamente.

Scorciatoie:
* Ctrl+E — espandi tutto
* Ctrl+W — comprimi tutto (la radice resta aperta)

## 3) File
* Apri cartella… — apri la cartella radice (Ctrl+O)
* Aggiorna — rileggi e ricostruisci l’albero (F5)
* Esporta su file:
  * Esporta albero
  * Esporta contenuto
  * Esporta albero e contenuto

Regole di formato:
* Esporta albero — il formato dipende dal selettore ASCII/JSON.
* Esporta contenuto — sempre formato testo del contenuto (il selettore ASCII/JSON non influisce).
* Esporta albero e contenuto — il blocco albero segue il selettore ASCII/JSON, il blocco contenuto resta testuale.

I file esportati vengono scritti in UTF-8 senza BOM.

### Drag & Drop
Il drag & drop funziona nell’area iniziale (Drop Zone) quando nessun progetto è caricato.

Regole:
* puoi trascinare una cartella;
* puoi trascinare un file — in questo caso viene aperta la cartella che lo contiene;
* se vengono trascinati più elementi, viene usato il primo percorso locale valido;
* se un percorso non è disponibile o non esiste, vengono applicati gli stessi controlli di accesso di «Apri cartella…»;
* elementi non supportati o non locali vengono ignorati.

## 4) Git
Il menu Git è disponibile solo per i progetti clonati tramite DevProjex (Git Clone). L'app non tocca i tuoi file — lavora solo con la cache.

La cache si trova nella cartella temporanea di sistema. Su Windows di solito è:
`%TEMP%\DevProjex\RepoCache`

* Branch — mostra l’elenco dei branch remoti; il cambio aggiorna l’albero al branch scelto. Se il branch esiste già in locale, il cambio è offline (senza aggiornamento). Se non esiste, viene scaricato (fetch) e creato localmente.
* Ottieni aggiornamenti — aggiorna solo il branch corrente: fetch e reset a origin/<branch>.

## 5) Copia
### Selettore formato albero (ASCII/JSON)
Il selettore definisce il formato di rappresentazione dell’albero per le operazioni in cui l’albero partecipa al risultato.

* ASCII — albero testuale con rami.
* JSON — albero strutturato in JSON.

Il selettore influisce su:
* Copia albero
* Copia albero + contenuto
* Esporta albero
* Esporta albero e contenuto

Il selettore non influisce su:
* Copia contenuto
* Esporta contenuto

### Copia albero
Copia l’albero del progetto.
Se ci sono nodi selezionati, l’albero è costruito dalla selezione; se la selezione è vuota o non valida, viene copiato l’albero completo.
Il formato del risultato è definito dal selettore ASCII/JSON.
Scorciatoie: Ctrl+Shift+C e Ctrl+Alt+C.

### Copia contenuto
Copia il contenuto dei file:
* se ci sono file selezionati — solo quelli; altrimenti — tutti i file del progetto;
* i file non testuali vengono ignorati (inclusi i binari);
* per i file di testo vuoti vengono riportati il percorso e la riga `[No Content, 0 bytes]`;
* per i file composti solo da spazi/ritorni a capo vengono riportati il percorso e la riga `[Whitespace, N bytes]`.
Scorciatoia: Ctrl+Alt+V.

### Copia albero + contenuto
Combina albero e contenuto:
* albero dalla selezione; se la selezione è vuota o non valida, viene usato l’albero completo;
* contenuto secondo le stesse regole di «Copia contenuto»;
* il formato del blocco albero è definito dal selettore ASCII/JSON.
Scorciatoia: Ctrl+Shift+V.

### Rappresentazione JSON
In modalità JSON viene usata una struttura compatta.

Albero:
* `rootPath` — percorso assoluto della radice.
* `root` — nodo radice.
* campi nodo: `name`, `path`, `dirs`, `files`, `accessDenied` (se necessario).

Albero + contenuto:
* `rootPath` — percorso assoluto della radice.
* `tree` — albero JSON.
* `content` — blocco testuale del contenuto file.

### Modalità anteprima
La modalità anteprima si apre con il pulsante con l’icona a forma di occhio nella barra superiore e mostra il testo finale senza copiare negli appunti e senza esportare in un file.

Modalità disponibili:
* Albero
* Contenuto
* Albero e contenuto

L’anteprima usa le stesse regole delle operazioni di copia/esportazione:
* se ci sono nodi selezionati, il risultato viene costruito dalla selezione;
* se la selezione è vuota o non valida, viene usato il set completo dei dati;
* regole di ignoramento, filtri e selezione di tipi file/cartelle vengono applicati come nell’albero principale.

Il formato dell’albero in anteprima dipende dal selettore ASCII/JSON:
* in modalità «Albero», il formato è definito interamente dal selettore;
* in modalità «Albero e contenuto», il blocco albero segue il formato scelto, mentre il blocco contenuto resta testuale.

Durante l’anteprima:
* viene mostrata un’area di testo con numerazione righe;
* i dati sono in sola lettura, la modifica non è disponibile;
* l’anteprima può essere chiusa con il pulsante X o cliccando di nuovo sull’icona occhio.

Nota:
* per progetti grandi, l’aggiornamento dell’anteprima è asincrono; durante il ricalcolo può comparire brevemente lo stato di preparazione.

## 6) Visualizza
### Zoom
* Ctrl++ / Ctrl+= — aumenta
* Ctrl+- — riduci
* Ctrl+0 — reset
* Ctrl + rotellina sul tree — zoom fluido

Intervallo: 6–28, reset: 12.

### Modalità compatta
Rende l’interfaccia più densa: spazi più piccoli nell’albero e nelle impostazioni.

## 7) Ricerca nell’albero
Apre la ricerca, evidenzia le corrispondenze e permette la navigazione.
* Ctrl+F — mostra/nascondi
* Enter — risultato successivo
* Shift+Enter — precedente
* Esc — chiudi

La ricerca apre solo i rami necessari; svuotando la query l’albero si richiude (tranne la radice).

## 8) Filtra per nome
Mostra solo i nodi che corrispondono al filtro e i loro genitori. Aggiornamento con debounce.
* Ctrl+Shift+N — mostra/nascondi filtro
* Esc — chiudi filtro

## 9) Opzioni
Liste a destra:
* Font albero — applica con Applica
* Ignora
* Tipi di file
* Cartelle di primo livello

Ogni lista ha il toggle Tutti.

Nota su « Tipi di file »:
* in questa lista vengono mostrati solo file con estensione;
* i file senza estensione non vengono aggiunti a questa lista e sono gestiti da un’opzione separata in « Ignora ».

Ctrl+P — mostra/nascondi pannello.

## 10) Ignora
L’elenco « Ignora » viene generato automaticamente in base al percorso corrente e alle cartelle di primo livello selezionate.

Ordine delle opzioni:
* Smart ignore (se disponibile)
* Usa .gitignore (se viene trovato almeno un `.gitignore`)
* Cartelle nascoste
* File nascosti
* Cartelle con punto iniziale
* File con punto iniziale
* File senza estensione (mostrato solo se tali file vengono rilevati)

La linea sotto « Usa .gitignore » separa le regole Git/Smart dalle regole base di visibilità.

### 10.1 Ambito delle regole
L’app costruisce ambiti di progetto (scope) in cui applicare le regole di ignore:
* radice (se la radice contiene `.gitignore` o un marker di progetto)
* cartelle di primo livello
* sottocartelle di progetto annidate

La profondità di ricerca degli ambiti annidati è fissa: 2 livelli.

### 10.2 « Usa .gitignore »
* Attivo: le regole `.gitignore` sono applicate negli ambiti rilevati.
* Disattivo: le regole `.gitignore` sono completamente disattivate.

Nelle cartelle multi-progetto, il `.gitignore` di un progetto non si applica ai progetti vicini fuori dal suo ambito.

### 10.3 « Smart ignore »
* Viene mostrato solo quando è pertinente.
* Attivo: nasconde anche i tipici artefatti di build e strumenti.
* Disattivo: le regole smart non vengono applicate.

### 10.4 Regole base
Opzioni:
* Cartelle nascoste
* File nascosti
* Cartelle con punto iniziale
* File con punto iniziale

Queste regole sono indipendenti da `.gitignore` e Smart Ignore e dipendono solo dai rispettivi interruttori.

### 10.5 Comportamento interno: casi tipici
1. Progetto singolo con `.gitignore`.
Di norma viene mostrato solo « Usa .gitignore ».
Quando è attivo, `.gitignore` e Smart Ignore lavorano insieme.
Quando è disattivo, entrambi vengono disattivati.

2. Progetto singolo senza `.gitignore`.
« Usa .gitignore » non viene mostrato.
« Smart ignore » viene mostrato solo se pertinente.

3. Workspace multi-progetto, alcuni progetti con `.gitignore`, altri senza.
Vengono mostrati « Usa .gitignore » e « Smart ignore ».
`.gitignore` opera nel proprio ambito.
Smart Ignore (se attivo) completa il filtraggio negli ambiti rilevati.

4. Workspace multi-progetto, tutti i progetti hanno `.gitignore`.
Viene mostrato « Usa .gitignore ».
« Smart ignore » non viene mostrato come opzione separata.

5. Cartella senza regole pertinenti.
Se non viene trovato `.gitignore` e Smart Ignore non è pertinente, queste opzioni non vengono mostrate.
Restano solo le regole base di visibilità.

### 10.6 File senza estensione
L’opzione « File senza estensione » controlla la visibilità dei file senza estensione (ad esempio: `Dockerfile`, `Makefile`, `README`).

Regole:
* l’opzione viene mostrata solo quando tali file sono realmente presenti nel set di dati corrente;
* quando è attiva, i file senza estensione vengono esclusi dall’albero e dalle operazioni di copia/export;
* quando è disattiva, i file senza estensione vengono inclusi nel risultato;
* la lista « Tipi di file » non controlla questo comportamento.
## 11) Come vengono calcolati albero e metriche
Il risultato dipende da:
* cartelle di primo livello selezionate
* tipi di file selezionati
* regole di esclusione
* filtro attivo
* nodi selezionati con checkbox nell’albero (per operazioni basate sulla selezione)

Se l’accesso è negato, il nodo è marcato Accesso negato.

### 11.1 Cosa mostrano i contatori nella barra di stato
La barra di stato contiene due blocchi:
* Albero — metriche dell’output testuale dell’albero;
* Contenuto — metriche dell’output contenuti file.

Formato:
* Righe
* Caratteri
* ~Token (stima)

I valori grandi sono mostrati in formato compatto (K/M).

Importante:
* « Righe » nel blocco « Albero » indica il numero di righe della rappresentazione finale dell’albero, non il numero di file su disco;
* in questo valore rientrano cartelle, file ed elementi di servizio dell’albero (ad esempio nodi con accesso negato).

### 11.2 Come vengono calcolate le metriche
Metriche albero:
* sono calcolate dall’output reale dell’albero generato dalla stessa pipeline di export;
* rispettano il formato ASCII/JSON corrente.

Metriche contenuto:
* seguono le stesse regole della copia/export contenuto;
* i file binari sono esclusi;
* file vuoti e solo spazi sono conteggiati tramite marker di servizio (`[No Content, 0 bytes]`, `[Whitespace, N bytes]`).

### 11.3 Quando i contatori vengono aggiornati
Il ricalcolo avviene:
* dopo apertura/aggiornamento progetto;
* dopo applicazione impostazioni (ignore, tipi file, cartelle root);
* quando cambiano le checkbox nell’albero (con debounce);
* quando si passa ASCII/JSON (per operazioni che usano l’albero).
* quando il calcolo in background viene annullato, i contatori vengono impostati a 0 fino al successivo ricalcolo completato.

## 12) Icone
Ordine di scelta:
1) tipo nodo (cartella/file)
2) nome esatto (se esiste una regola)
3) estensione
4) altrimenti — sconosciuto

## 13) Tema ed effetti
Il popover del tema permette di scegliere:
* tema chiaro/scuro
* Trasparente / Mica / Acrylic
* intensità, blur, contrasto, bordi

Gli elementi [Beta] possono cambiare tra versioni.

## 14) Aiuto → Informazioni
Apre un popover con info app e link al repository.
Reimposta impostazioni (Aiuto → Reimposta impostazioni) riporta tema ed effetti ai valori predefiniti.
* Esc — chiudi popover

## 15) Lingue
La lingua si seleziona dal menu Lingua.

## 16) Barra di avanzamento e annullamento
Nella parte centrale della barra di stato vengono mostrati operazione attiva e progresso.

Modalità progresso:
* Indeterminate — senza percentuale (durata sconosciuta).
* Determinate — con percentuale (0–100).

Comportamento:
* durante il calcolo dati in background viene mostrata la percentuale;
* per alcune operazioni Git la percentuale viene mostrata se la sorgente la fornisce;
* per operazioni molto rapide il progresso può apparire solo per poco tempo.

Pulsante X (annulla) nella barra di stato:
* esegue annullamento best-effort per operazioni che supportano l’annullamento;
* interrompe il calcolo dati in background;
* per operazioni senza supporto annullamento, ferma l’indicazione nella barra di stato, mentre l’operazione può comunque terminare in background.

## 17) Note
* Per impostazione predefinita, tema scuro ed effetti di trasparenza sono attivi (se supportati).
* Se i permessi non bastano, l’app può proporre il riavvio con privilegi elevati; in caso di rifiuto viene mostrato un avviso.

